<!--
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head ('Gestion d\'utilisateurs')}"></head>

<body class="bg-gray-100 font-sans">

<div class="flex h-screen">

  <aside th:replace="~{fragments/side_bar :: aside}"></aside>
  <main class="bg-white rounded-l-lg shadow-lg w-full col-span-11 flex flex-col h-screen">
    <nav th:replace="~{fragments/nav :: nav}"></nav>
    <div class="p-6 flex justify-between items-center">
      &lt;!&ndash; Search Bar &ndash;&gt;
      <form id="searchForm" th:action="@{/Admin/search}" method="GET" class="flex gap-4 w-full">
        &lt;!&ndash; Search Bar &ndash;&gt;
        <input
                id="searchInput"
                type="text"
                name="query"
                placeholder="Rechercher par nom ou email..."
                class="p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 w-64"
        />
      </form>
      &lt;!&ndash; Filter Dropdown &ndash;&gt;
      <select
              class="p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600"
      >
        <option value="">Filtrer par rôle</option>
        <option value="professeur">Professeur</option>
        <option value="admin">Admin</option>
        <option value="super admin">Super Admin</option>
      </select>
    </div>

    &lt;!&ndash; Header Section &ndash;&gt;
    <div class="p-6 flex justify-between items-center">
      <div class="flex flex-col">
      <h2 class="text-xl font-semibold text-gray-800">Liste des Utilisateurs</h2>
        <div th:if="${action == true}" class="p-4 mt-2 text-sm text-green-800 rounded-lg bg-[#c9e8b9]"
             role="alert">
          <p th:if="${added != null}">
            Utilisateur <span class="font-bold" th:text="|'${added}'|"></span>
            ajouté avec succès
          </p>
          <p th:if="${deleted != null}">
            Utilisateur <span class="font-bold" th:text="|'${deleted}'|"></span>
            suprimé avec succès
          </p>
        </div>
      </div>
      &lt;!&ndash; Ajouter Utilisateur Button &ndash;&gt;
      <label for="addUserModal" class="bg-[#313863] text-white py-2 px-6 rounded-lg hover:bg-blue-950 shadow-md cursor-pointer">
        + Ajouter Utilisateur
      </label>
    </div>
    &lt;!&ndash; User Table &ndash;&gt;
    <section class="p-6 overflow-auto">
      <table class="w-full border-collapse border border-gray-200 shadow-sm rounded-lg overflow-hidden">
        <thead class="bg-[#b10c74] text-white">
        <tr>
          <th class="p-4 text-left"></th>
          <th class="p-4 text-left">Nom</th>
          <th class="p-4 text-left">Date de Naissance</th>
          <th class="p-4 text-left">Rôle</th>
          <th class="p-4 text-left">Email</th>
          <th class="p-4 text-center">Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="user : ${users}" class="bg-gray-100 hover:bg-gray-200 transition-all">
          <td class="p-4 text-left">
            <button class="hover:opacity-80">
              <img src="/public/eye.png" alt="Voir" class="h-6 w-6">
            </button>
          </td>
          <td class="p-4" th:text="${user.nom + ' ' + user.prenom}"></td>
          <td class="p-4" th:text="${user.dateNaissance}"></td>
          <td class="p-4" th:text="${role}"></td>
          <td class="p-4" th:text="${user.email}"></td>
          <td class="p-4 flex items-center justify-center gap-3">
            <button class="hover:opacity-80">
              <img src="/public/edit.png" alt="Modifier" class="h-6 w-6">
            </button>
            <form th:action="@{/users/{id}(id=${user.id})}" method="POST">
              <input type="hidden" name="_method" value="DELETE">
              <button type="submit" class="hover:opacity-80">
                <img src="/public/trash.png" alt="Delete" class="h-6 w-6">
              </button>
            </form>
          </td>
        </tr>
        </tbody>


      </table>
    </section>
  </main>
</div>



<script>
  // Show/Hide professor-specific fields based on selected role
  document.getElementById("role-select").addEventListener("change", function () {
    const professorFields = document.getElementById("professor-fields");
    if (this.value === "ROLE_PROF") {
      professorFields.classList.remove("hidden");
    } else {
      professorFields.classList.add("hidden");
    }
  });


  // Get form, search input, and dropdown elements
  const searchForm = document.getElementById("searchForm");
  const searchInput = document.getElementById("searchInput");
  const roleDropdown = document.getElementById("roleDropdown");

  // Add event listener to the search input
  searchInput.addEventListener("input", function () {
    searchForm.submit(); // Submit the form whenever the user types
  });

  // Add event listener to the dropdown
  roleDropdown.addEventListener("change", function () {
    searchForm.submit(); // Submit the form whenever the dropdown value changes
  });
</script>


</body>
</html>-->
